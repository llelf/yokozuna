%% -*- erlang -*-
{minimum_otp_vsn, "20.0"}.

{cover_enabled, true}.
{erl_opts, [warnings_as_errors,
            debug_info,
            {parse_transform, lager_transform}]}.
{eunit_opts, [verbose]}.

{xref_checks, []}.
{xref_queries, [{"(XC - UC) || (XU - X - B)", []}]}.

{deps,
 [
  {kvc,     ".*",     {git, "https://github.com/basho/kvc.git",      {tag, "v1.5.0"}}},
  {riak_kv, ".*",     {git, "https://github.com/basho/riak_kv.git",  {branch, "develop-3.0"}}},
  {ibrowse, "4.*",    {git, "https://github.com/basho/ibrowse.git",  {tag, "v4.3"}}},
  {fuse,    "2.1.0",  {git, "https://github.com/basho/fuse.git",     {tag, "v2.1.0"}}},
  {gen_fsm_compat, ".*", {git, "https://gitlab.com/Project-FiFo/gen_fsm_compat"}},

  %% Needed for testing ONLY
  {riakc, ".*", {git, "https://github.com/basho/riak-erlang-client", {tag, "2.5.2"}}}
 ]}.

{pre_hooks, [{compile, "./tools/grab-solr.sh"}]}.

{riak_test,
 [
  {test_paths, ["riak_test"]},
  {test_output, "riak_test/ebin"}
 ]}.
